<%# Step 1: empty the Turbo Frame containing the form %>
<%= turbo_stream.update nested_dom_id(@product_item_date, ProductItem.new), "" %>

<%# Step 2: append the created line item to the list %>
<%= turbo_stream.append nested_dom_id(@product_item_date, "product_items") do %>
  <%= render @product_item, customer: @customer, product_item_date: @product_item_date %>
<% end %>

<%= render_turbo_stream_flash_messages %>

<%= turbo_stream.update dom_id(@customer, :total) do %>
  <%= render "customers/total", customer: @customer %>
<% end %>
